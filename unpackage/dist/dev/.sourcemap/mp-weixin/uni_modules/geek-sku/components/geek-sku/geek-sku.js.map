{"version":3,"sources":["webpack:///C:/Users/寒酥/Desktop/三创/eye/uni_modules/geek-sku/components/geek-sku/geek-sku.vue?d320","webpack:///C:/Users/寒酥/Desktop/三创/eye/uni_modules/geek-sku/components/geek-sku/geek-sku.vue?ca81","webpack:///C:/Users/寒酥/Desktop/三创/eye/uni_modules/geek-sku/components/geek-sku/geek-sku.vue?9847","webpack:///C:/Users/寒酥/Desktop/三创/eye/uni_modules/geek-sku/components/geek-sku/geek-sku.vue?1ce5","uni-app:///uni_modules/geek-sku/components/geek-sku/geek-sku.vue","webpack:///C:/Users/寒酥/Desktop/三创/eye/uni_modules/geek-sku/components/geek-sku/geek-sku.vue?f73d","webpack:///C:/Users/寒酥/Desktop/三创/eye/uni_modules/geek-sku/components/geek-sku/geek-sku.vue?1d75"],"names":["props","data","default","type","value","isMaskClose","isSelectMinPriceSku","selectSkuIndex","defaultCover","defaultNum","themeColor","btnConfirmText","notStockDisabled","notStockDisabledStyle","notStockText","notSelectSku","showStockNum","res","spliter","r","keys","selectedCache","selectSku","showAreaPrice","showAreaStock","num","themeRGB","themeRGBA","isUseImgSku","isV3","showSkuPopup","shopSpecsPopupStyleShow","skuPopupStyleShow","methods","combineAttr","values","allKeys","path","sku","stock","key","result","obj","item","items","getAllKeys","powerset","ps","buildResult","skus","trimSpliter","replace","getSelectedItem","Object","handleDisableClick","updateStatus","copy","toString","resCurr","bindEvent","skuArr","selectMinPriceSku","minPriceSku","selectAppointSku","findAreaData","minPrice","maxPrice","minStock","maxStock","init","sku_attrs","confirm","skuText","uni","title","icon","duration","joinThemColor","close","setTimeout","open","resetNum","getObjAppointAttr","name","preview","urls","specsStyle","borderRadius","style","computed","getSelectedSkuAttrStr","attrArr","noAttrNameArr","btnConfirmShowText","watch","handler","deep","n","mounted"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACoL;AACpL,gBAAgB,yLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2OAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAA6qB,CAAgB,8qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACkFjsB;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA,gBAiCA;EACAA;IACA;IACAC;MACAC;QAAA;MAAA;MACAC;IACA;IACA;;IAQAC;MACAF;MACAC;IACA;IAEA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;MACAP;MACAC;IACA;IACA;IACAO;MACAR;QAAA;MAAA;MACAC;IACA;IACA;IACAQ;MACAT;MACAC;IACA;IACA;IACAS;MACAV;MACAC;IACA;IACA;IACAU;MACAX;QACA;MACA;MACAC;IACA;IACA;IACAW;MACAZ;MACAC;IACA;IACA;IACAY;MACAb;MACAC;IACA;IACA;IACAa;MACAd;MACAC;IACA;EACA;EACA;EACA;EACAF;IACA;MACA;MACAgB;MACA;MACAC;MACA;MACAC;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;;MAKAC;MAEA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACA;EACAC;IACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MAEA;QACA;QACA;QAEA;UACA;UACA;UACA;UAEA;UACA;UAEAC;QACA;QAEAC;UACAC;UACAC;UACAC;QACA;MACA;MAAA,2BAEAC;QACA;QACAC;UACA;UACA;UACA;UACA;UACA;UACAC;UACAA;UACAA;UACA;UACA;YACAA;UACA;;UAEA;UACA;YACAA,sDACAA,sBACAC,KACA;YACA;UACA;QAEA;QACAF;MAAA;MA1BA;QAAA;MA2BA;MAEA;QACAA;QACAG;MACA;IACA;IACAC;MACA;MACA;QACAJ;MACA;MACA;IACA;IACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAK;MACA,UACA,GACA;MACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACA;AACA;AACA;IACAC;MACA;MAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;UACA;UACA;UACA;UAEA;YACA;UACA;YACA;cACAC;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA,+BACAC,qBACAA;IACA;IACA;AACA;AACA;IACAC;MACA;MAEA;MACA;QACAC;UACAZ;UACAY;YACA;YACA;YACAV;UACA;QACA;MACA;MAEA;IACA;IACA;AACA;AACA;IACAW;MACA;;MAEA;MACA;MACAD;QACAA;UACA;UACA;UACAV;QACA;MACA;;MAEA;MACAL;MACAA;MAEA;;MAEA;AACA;AACA;AACA;AACA;AACA;AACA;MACA;QACA;QACA;;QAEA;QACA;UACA;UACA;QACA;MACA;IAEA;IAEA;AACA;AACA;IACAiB;MAAA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAF;UACA;UACA;UACAG;UACA;UACA,gGACAC;UACA;UACA;UACA;UACA;UACA;UACA;UACA;YACA;YACAd;YACA;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACAe;gBACA;kBAAA;gBAAA;gBACA;cACA;cACAf;YACA;UACA;YACA;YACA;cACAA;YACA;cACAA;YACA;YACAA;UACA;QACA;MACA;;MAEA;MACA;MACA;MACA;QAAA;MAAA;QACA;QACA;QACA;QACA;UAAA;QAAA;QACA;QACA;UACA;UACA;YAAA;UAAA;UACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAgB;MACA;MACA;MAEA;QACA;QACAN;UACAO;QACA;QAEAtB;;QAEA;QACA;UAAA;QAAA;QAEA;UACA;QACA;UACA;QACA;MACA;QACAA;QACA;QACA;QACAe;UACAA;YACA;YACA;YACAV;UACA;QACA;MACA;MAEA;IACA;IAEA;AACA;AACA;IACAkB;MACA;MACA;QACA;QACA;UACAC;QACA;UAAA;UACAA;QACA;MACA;MAEA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;QACA;QACA;QACA;UACA;UACA;UACA;QACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;UAAA;UACAA;QACA;QACA;QACA;UACAC;QACA;;QAEA;QACA;UACAC;QACA;UAAA;UACAA;QACA;QACA;QACA;UACAC;QACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;QACA;QACA;QACA;QACA,sGACAC;QACA;QAAA,KACA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;UACA;UACA;YACAjC;YACAkC;YACA/C;UACA;QACA;MACA;QACAgD;UACAC;UACAC;UACAC;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAMA;MAQA;MAEA;MACA;MAEAC;QACA;MACA;IACA;IAEA;IACAC;MAAA;MAMA;MAQA;MAEA;MAEAD;QACA;QACA;MACA;IACA;IAEA;IACAE;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACA9E;MACA;QACAA;MACA;;MAEA;MACA;MAEA;QACAA;QACA+E;MACA;IACA;IAEA;IACAC;MACAX;QACAY;MACA;IACA;IAEA;IACAC;MACA;QACAC;MACA;MACA;MACA;QACAC;QACAA;MACA;MACA;MACA;QACAA;MACA;MAEA;IACA;EACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;QAAA;MAAA;QACA;QACA;QACA;QACA;QACAC;UACA;YACAC;UACA;QACA;QAEA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;EACA;EACA;EACAC;IACA7F;MACA8F;QACA;MACA;MACAC;IACA;IAOA5F;MACA6F;IACA;IAEAxE;MACA;IACA;IACAH;MACA;IACA;IACAZ;MACA;IACA;IACAH;MACA;IACA;EACA;EACA;EACA2F;IACA;IACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;ACh3BA;AAAA;AAAA;AAAA;AAAywC,CAAgB,ssCAAG,EAAC,C;;;;;;;;;;;ACA7xC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/geek-sku/components/geek-sku/geek-sku.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./geek-sku.vue?vue&type=template&id=32e9291c&scoped=true&\"\nvar renderjs\nimport script from \"./geek-sku.vue?vue&type=script&lang=js&\"\nexport * from \"./geek-sku.vue?vue&type=script&lang=js&\"\nimport style0 from \"./geek-sku.vue?vue&type=style&index=0&id=32e9291c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32e9291c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/geek-sku/components/geek-sku/geek-sku.vue\"\nexport default component.exports","export * from \"-!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./geek-sku.vue?vue&type=template&id=32e9291c&scoped=true&\"","var components\ntry {\n  components = {\n    numBox: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/geek-sku/components/numBox/numBox\" */ \"@/uni_modules/geek-sku/components/numBox/numBox.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.showSkuPopup\n    ? _vm.__map(_vm.r.result, function (skuArr, skuArrKey) {\n        var $orig = _vm.__get_orig(skuArr)\n        var l0 = _vm.__map(skuArr, function (sku, skuKey) {\n          var $orig = _vm.__get_orig(sku)\n          var s0 = _vm.__get_style([_vm.specsStyle(sku)])\n          return {\n            $orig: $orig,\n            s0: s0,\n          }\n        })\n        return {\n          $orig: $orig,\n          l0: l0,\n        }\n      })\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isMaskClose ? _vm.close() : \"\"\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./geek-sku.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./geek-sku.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"sku\" v-if=\"showSkuPopup\" :class=\"skuPopupStyleShow ? 'show' : 'hide'\"\r\n\t\t@click=\"isMaskClose ? close() : ''\">\r\n\t\t<view class=\"shopSpecsPopup\" :class=\"shopSpecsPopupStyleShow ? 'show' : 'hide'\" @click.stop>\r\n\t\t\t<image class=\"close\" src=\"../../img/close.png\" @click=\"close\"></image>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<view class=\"info flex f-y-c\">\r\n\t\t\t\t\t<view class=\"cover\" v-if=\"!isUseImgSku\"\r\n\t\t\t\t\t\t:style=\"{backgroundImage: `url(${selectSku.logo || defaultCover})`}\"></view>\r\n\t\t\t\t\t<view class=\"right t-w\" :class=\"{useImgSku: isUseImgSku}\">\r\n\t\t\t\t\t\t<view class=\"price flex f-y-e\" :style=\"{color: themeRGB}\">\r\n\t\t\t\t\t\t\t<view class=\"uity\">￥</view>\r\n\t\t\t\t\t\t\t{{selectSku.id ? selectSku.price : `${showAreaPrice[0]}-${showAreaPrice[1]}`}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"stock\" v-if=\"showStockNum\">\r\n\t\t\t\t\t\t\t库存: {{selectSku.id ? selectSku.stock : `${showAreaStock[0]}-${showAreaStock[1]}`}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"actSkuStr\">\r\n\t\t\t\t\t\t\t{{getSelectedSkuAttrStr}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"number flex f-y-c f-x-b\">\r\n\t\t\t\t\t<view class=\"key\">数量</view>\r\n\t\t\t\t\t<numBox :width=\"200\" integer v-model=\"num\" :minValue=\"selectSku.stock == 0 ? 0 : 1\"\r\n\t\t\t\t\t\t:maxValue=\"selectSku.id ? selectSku.stock : showAreaStock[1]\"></numBox>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"specsList\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(skuArr, skuArrKey) in r.result\" :key=\"skuArrKey\">\r\n\t\t\t\t\t\t<view class=\"title\">{{skuArrKey}}</view>\r\n\t\t\t\t\t\t<view class=\"specsValueList flex f-w\">\r\n\t\t\t\t\t\t\t<view class=\"specs\" \r\n\t\t\t\t\t\t\t\tv-for=\"(sku, skuKey) in skuArr\" \r\n\t\t\t\t\t\t\t\t:key=\"skuKey\" \r\n\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\tdisabled: sku.disabled, \r\n\t\t\t\t\t\t\t\t\tact: sku.active, \r\n\t\t\t\t\t\t\t\t\tdiscard: sku.discard\r\n\t\t\t\t\t\t\t\t}\" \r\n\t\t\t\t\t\t\t\t:style=\"[specsStyle(sku)]\"\r\n\t\t\t\t\t\t\t\t@click=\"bindEvent(sku, skuArr, skuArrKey)\">\r\n\t\t\t\t\t\t\t\t<!-- 带有图片的sku -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"sku.img\" class=\"specs_img_box\">\r\n\t\t\t\t\t\t\t\t\t<!-- 禁用遮罩层 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"specs_img_box_mask\"></view>\r\n\t\t\t\t\t\t\t\t\t<!-- 预览按钮 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"specs_img_box_preview flex f-y-c f-x-c\" @click.stop=\"preview(sku.img)\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"img\" src=\"../../img/preview.png\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"specs_img_box_cover bgImg\" :style=\"{\r\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${sku.img})`\r\n\t\t\t\t\t\t\t\t\t}\"></view>\r\n\t\t\t\t\t\t\t\t\t<!-- 文字 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"specs_img_box_text t-c\">{{sku.value}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 普通sku -->\r\n\t\t\t\t\t\t\t\t<view v-else class=\"specs_common\" :style=\"{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: sku.active ? themeRGBA : ''\r\n\t\t\t\t\t\t\t\t}\">\r\n\t\t\t\t\t\t\t\t\t{{sku.value}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btnBox\">\r\n\t\t\t\t<view class=\"confirm\" :class=\"{\r\n\t\t\t\t\t\tdisabled: selectSku.id && selectSku.stock * 1 < 1\r\n\t\t\t\t\t}\" :style=\"{\r\n\t\t\t\t\t\tbackground: themeRGB\r\n\t\t\t\t\t}\" @click=\"confirm\">\r\n\t\t\t\t\t{{btnConfirmShowText}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// 引入 CryptoJS 库\r\n\timport CryptoJS from \"crypto-js\";\r\n\t/**\r\n\t * geek-sku\r\n\t * @description 商品sku组件。\r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=10470\r\n\t * @property {Array} data 源数据。\r\n\t * @property {Boolean} modelValue 是否显示sku组件(默认值: false, v3显示)。\r\n\t * @property {Boolean} value 是否显示sku组件(默认值: false, v2显示)。\r\n\t * @property {Boolean} isMaskClose 是否可以点击遮罩层关闭(默认值: false)。\r\n\t * @property {Boolean} isSelectMinPriceSku 是否默认选中最低价格的sku(默认值: true)。\r\n\t * @property {Boolean} selectSkuIndex 默认选中的sku下标。\r\n\t * @property {String} defaultCover 默认封面图，用于没有选中完整的sku时展示。\r\n\t * @property {Number} defaultNum 默认购买商品数量。\r\n\t * @property {Array} themeColor 主题色，需要传入一个数组长度为3的数组，分别对应rgb三个颜色的值，例如: [84, 164, 255]。\r\n\t * @property {String} btnConfirmText 确认按钮文字(默认值: '确认')。\r\n\t * @property {Boolean} notStockDisabled 无库存sku是否禁用(默认值: false)。\r\n\t * @property {Object} notStockDisabledStyle 无库存sku禁用样式，notStockDisabled为true时生效(默认值: {})。\r\n\t * @property {String} notStockText 库存不足文字，notStockDisabled为false时生效(默认值: '库存不足')。\r\n\t * @property {String} notSelectSku 未选择完整的sku时的文字提示(默认值: '请选择完整的sku属性')。\r\n\t * @property {Boolean} showStockNum 是否展示库存数量。\r\n\t * @event {Function} confirm 点击确认按钮时触发的事件，会返回e， e = { sku, skuText , num }，分别对应选中的sku值 、sku属性名 、输入框内的数量。\r\n\t * @event {Function} skuChange sku发生变化时出发的事件，如果有选中完整的sku则会返回该sku，否则会返回{}。\r\n\t * @event {Function} close 关闭sku组件触发事件。\r\n\t * @event {Function} open 打开sku组件触发事件。\r\n\t * @event {Function} numChange 输入框内数量发生改变时触发事件。\r\n\t * @example <geek-sku \r\n\t\t\t\t\tv-model=\"skuShow\" \r\n\t\t\t\t\t:data=\"skus\"\r\n\t\t\t\t\t:defaultCover=\"logo\"\r\n\t\t\t\t\t@skuChange=\"skuChange\"\r\n\t\t\t\t\t@confirm=\"buyShop\"\r\n\t\t\t\t>\r\n\t\t\t\t</geek-sku>\r\n\t */\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\t// 源数据\r\n\t\t\tdata: {\r\n\t\t\t\tdefault: () => [],\r\n\t\t\t\ttype: Array\r\n\t\t\t},\r\n\t\t\t// 是否显示sku组件\r\n\t\t\t// #ifdef VUE3\r\n\t\t\tmodelValue: {\r\n\t\t\t\tdefault: false,\r\n\t\t\t\ttype: Boolean\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef VUE3\r\n\t\t\tvalue: {\r\n\t\t\t\tdefault: false,\r\n\t\t\t\ttype: Boolean\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\t// 是否可以点击关闭\r\n\t\t\tisMaskClose: {\r\n\t\t\t\tdefault: false,\r\n\t\t\t\ttype: Boolean\r\n\t\t\t},\r\n\t\t\t// 是否默认选中最低价格sku\r\n\t\t\tisSelectMinPriceSku: {\r\n\t\t\t\tdefault: true,\r\n\t\t\t\ttype: Boolean\r\n\t\t\t},\r\n\t\t\t// 默认选中的sku下标\r\n\t\t\tselectSkuIndex: {\r\n\t\t\t\tdefault: null,\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\t// 默认封面图\r\n\t\t\tdefaultCover: {\r\n\t\t\t\tdefault: \"\",\r\n\t\t\t\ttype: String\r\n\t\t\t},\r\n\t\t\t// 默认购买商品数量\r\n\t\t\tdefaultNum: {\r\n\t\t\t\tdefault: 1,\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\t// 主题色\r\n\t\t\tthemeColor: {\r\n\t\t\t\tdefault: () => [84, 164, 255],\r\n\t\t\t\ttype: Array\r\n\t\t\t},\r\n\t\t\t// 确认按钮文字\r\n\t\t\tbtnConfirmText: {\r\n\t\t\t\tdefault: \"确定\",\r\n\t\t\t\ttype: String\r\n\t\t\t},\r\n\t\t\t// 无库存禁用\r\n\t\t\tnotStockDisabled: {\r\n\t\t\t\tdefault: false,\r\n\t\t\t\ttype: Boolean\r\n\t\t\t},\r\n\t\t\t// 无库存禁用样式\r\n\t\t\tnotStockDisabledStyle: {\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t},\r\n\t\t\t\ttype: Object\r\n\t\t\t},\r\n\t\t\t// 库存不足文字\r\n\t\t\tnotStockText: {\r\n\t\t\t\tdefault: \"库存不足\",\r\n\t\t\t\ttype: String\r\n\t\t\t},\r\n\t\t\t// 未选择完整的sku时的文字提示\r\n\t\t\tnotSelectSku: {\r\n\t\t\t\tdefault: \"请选择完整的sku属性\",\r\n\t\t\t\ttype: String\r\n\t\t\t},\r\n\t\t\t// 展示库存数量\r\n\t\t\tshowStockNum: {\r\n\t\t\t\tdefault: true,\r\n\t\t\t\ttype: Boolean\r\n\t\t\t}\r\n\t\t},\r\n\t\t// data() 返回的属性将会成为响应式的状态\r\n\t\t// 并且暴露在 `this` 上\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// sku所有属性得可能性集合\r\n\t\t\t\tres: {},\r\n\t\t\t\t// 拼接得字符\r\n\t\t\t\tspliter: '\\u2299',\r\n\t\t\t\t// 组合数据\r\n\t\t\t\tr: {},\r\n\t\t\t\t// sku属性名合集\r\n\t\t\t\t// 机身颜色: '深空黑色',\r\n\t\t\t\t// 储存容量: '128G',\r\n\t\t\t\t// 套装: '快充套装',\r\n\t\t\t\t// keys = [机身颜色, 储存容量, 套装]\r\n\t\t\t\tkeys: [],\r\n\t\t\t\t// 选中的sku的副本\r\n\t\t\t\tselectedCache: [],\r\n\t\t\t\t// 选中的sku\r\n\t\t\t\tselectSku: {},\r\n\t\t\t\t// 展示的区间价格\r\n\t\t\t\tshowAreaPrice: [0, 0],\r\n\t\t\t\t// 展示的区间库存\r\n\t\t\t\tshowAreaStock: [0, 0],\r\n\t\t\t\t// 购买的数量\r\n\t\t\t\tnum: 1,\r\n\t\t\t\t// 主题色RGB\r\n\t\t\t\tthemeRGB: '',\r\n\t\t\t\t// 主题色RGBA\r\n\t\t\t\tthemeRGBA: '',\r\n\t\t\t\t// 是否使用带图sku\r\n\t\t\t\tisUseImgSku: false,\r\n\t\t\t\t// 是否v3\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\tisV3: true,\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\tisV3: false,\r\n\t\t\t\t// #endif\r\n\t\t\t\t// 显示sku\r\n\t\t\t\tshowSkuPopup: false,\r\n\t\t\t\t// 从低向上的动画显示\r\n\t\t\t\tshopSpecsPopupStyleShow: false,\r\n\t\t\t\t// 透明度消失动画, 让他关闭时看上不不那么生硬\r\n\t\t\t\tskuPopupStyleShow: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t// methods 是一些用来更改状态与触发更新的函数\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 计算组合数据\r\n\t\t\t */\r\n\t\t\tcombineAttr(data, keys) {\r\n\t\t\t\tvar allKeys = []\r\n\t\t\t\tvar result = {}\r\n\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tvar item = data[i].sku_attrs;\r\n\t\t\t\t\tvar values = [];\r\n\r\n\t\t\t\t\tfor (var j = 0; j < keys.length; j++) {\r\n\t\t\t\t\t\tlet key = keys[j];\r\n\t\t\t\t\t\t// 属性名\r\n\t\t\t\t\t\tlet attr_info = this.getObjAppointAttr(item[key]);\r\n\r\n\t\t\t\t\t\tif (!result[key]) result[key] = [];\r\n\t\t\t\t\t\tif (result[key].indexOf(attr_info.value) < 0) result[key].push(item[key]);\r\n\r\n\t\t\t\t\t\tvalues.push(attr_info.value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tallKeys.push({\r\n\t\t\t\t\t\tpath: values.join(this.spliter),\r\n\t\t\t\t\t\tsku: data[i].id,\r\n\t\t\t\t\t\tstock: data[i].stock\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let key in result) {\r\n\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\tresult[key].forEach(item => {\r\n\t\t\t\t\t\t// 属性名\r\n\t\t\t\t\t\tlet attr_info = this.getObjAppointAttr(item);\r\n\t\t\t\t\t\t// 如果本次的属性不存在 则 将该属性设置为空对象\r\n\t\t\t\t\t\tif (!obj[attr_info.name]) obj[attr_info.name] = {};\r\n\t\t\t\t\t\t// 本次要操作的属性 下面得赋值是为了防止已有属性被覆盖\r\n\t\t\t\t\t\tobj[attr_info.name].value = attr_info.value;\r\n\t\t\t\t\t\tobj[attr_info.name].active = false;\r\n\t\t\t\t\t\tobj[attr_info.name].disabled = false;\r\n\t\t\t\t\t\t// 如果无库存禁用\r\n\t\t\t\t\t\tif (this.notStockDisabled) {\r\n\t\t\t\t\t\t\tobj[attr_info.name].discard = false; // 是否废弃\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 如果该sku属性是对象则取其中的name属性\r\n\t\t\t\t\t\tif (Object.prototype.toString.call(item) === '[object Object]') {\r\n\t\t\t\t\t\t\tobj[attr_info.name] = {\r\n\t\t\t\t\t\t\t\t...obj[attr_info.name],\r\n\t\t\t\t\t\t\t\t...item\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.isUseImgSku = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\tresult[key] = obj;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tresult: result,\r\n\t\t\t\t\titems: allKeys\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetAllKeys(arr) {\r\n\t\t\t\tvar result = []\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tresult.push(arr[i].path)\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 取得集合的所有子集「幂集」\r\n\t\t\t arr = [1,2,3]\r\n\t\t\t\r\n\t\t\t     i = 0, ps = [[]]:\r\n\t\t\t         j = 0; j < ps.length => j < 1:\r\n\t\t\t             i=0, j=0 ps.push(ps[0].concat(arr[0])) => ps.push([].concat(1)) => [1]\r\n\t\t\t                      ps = [[], [1]]\r\n\t\t\t\r\n\t\t\t     i = 1, ps = [[], [1]] :\r\n\t\t\t         j = 0; j < ps.length => j < 2\r\n\t\t\t             i=1, j=0 ps.push(ps[0].concat(arr[1])) => ps.push([].concat(2))  => [2]\r\n\t\t\t             i=1, j=1 ps.push(ps[1].concat(arr[1])) => ps.push([1].concat(2)) => [1,2]\r\n\t\t\t                      ps = [[], [1], [2], [1,2]]\r\n\t\t\t\r\n\t\t\t     i = 2, ps = [[], [1], [2], [1,2]]\r\n\t\t\t         j = 0; j < ps.length => j < 4\r\n\t\t\t             i=2, j=0 ps.push(ps[0].concat(arr[2])) => ps.push([3])    => [3]\r\n\t\t\t             i=2, j=1 ps.push(ps[1].concat(arr[2])) => ps.push([1, 3]) => [1, 3]\r\n\t\t\t             i=2, j=2 ps.push(ps[2].concat(arr[2])) => ps.push([2, 3]) => [2, 3]\r\n\t\t\t             i=2, j=3 ps.push(ps[3].concat(arr[2])) => ps.push([2, 3]) => [1, 2, 3]\r\n\t\t\t                      ps = [[], [1], [2], [1,2], [3], [1, 3], [2, 3], [1, 2, 3]]\r\n\t\t\t */\r\n\t\t\tpowerset(arr) {\r\n\t\t\t\tvar ps = [\r\n\t\t\t\t\t[]\r\n\t\t\t\t];\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tfor (var j = 0, len = ps.length; j < len; j++) {\r\n\t\t\t\t\t\tps.push(ps[j].concat(arr[i]));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ps;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 生成所有子集是否可选、库存状态 map\r\n\t\t\t */\r\n\t\t\tbuildResult(items) {\r\n\t\t\t\tvar allKeys = this.getAllKeys(items);\r\n\r\n\t\t\t\tfor (var i = 0; i < allKeys.length; i++) {\r\n\t\t\t\t\tvar curr = allKeys[i];\r\n\t\t\t\t\tvar sku = items[i].sku;\r\n\t\t\t\t\tvar values = curr.split(this.spliter);\r\n\t\t\t\t\tvar allSets = this.powerset(values)\r\n\r\n\t\t\t\t\t// 每个组合的子集\r\n\t\t\t\t\tfor (var j = 0; j < allSets.length; j++) {\r\n\t\t\t\t\t\tvar set = allSets[j]\r\n\t\t\t\t\t\t// 使用CryptoJS的MD5对原属性名加密 用来禁绝因特殊符号带来的属性名错误\r\n\t\t\t\t\t\tvar key = CryptoJS.MD5(set.join(this.spliter)).toString();\r\n\r\n\t\t\t\t\t\tif (this.res[key]) {\r\n\t\t\t\t\t\t\tthis.res[key].skus.push(sku)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.res[key] = {\r\n\t\t\t\t\t\t\t\tskus: [sku]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttrimSpliter(str, spliter) {\r\n\t\t\t\t// ⊙abc⊙ => abc\r\n\t\t\t\t// ⊙a⊙⊙b⊙c⊙ => a⊙b⊙c\r\n\t\t\t\tvar reLeft = new RegExp('^' + spliter + '+', 'g');\r\n\t\t\t\tvar reRight = new RegExp(spliter + '+$', 'g');\r\n\t\t\t\tvar reSpliter = new RegExp(spliter + '+', 'g');\r\n\t\t\t\treturn str.replace(reLeft, '')\r\n\t\t\t\t\t.replace(reRight, '')\r\n\t\t\t\t\t.replace(reSpliter, spliter)\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 获取当前选中的属性\r\n\t\t\t */\r\n\t\t\tgetSelectedItem() {\r\n\t\t\t\tvar result = [];\r\n\r\n\t\t\t\tlet resObj = this.r.result;\r\n\t\t\t\tif (resObj) {\r\n\t\t\t\t\tObject.keys(resObj).forEach((key1, index) => {\r\n\t\t\t\t\t\tresult[index] = \"\";\r\n\t\t\t\t\t\tObject.keys(resObj[key1]).forEach(key2 => {\r\n\t\t\t\t\t\t\t// 查找选中的属性\r\n\t\t\t\t\t\t\tlet item = resObj[key1][key2];\r\n\t\t\t\t\t\t\titem.active ? result[index] = item.value : '';\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 无效属性点击\r\n\t\t\t */\r\n\t\t\thandleDisableClick(sku, skuArrKey, index) {\r\n\t\t\t\tthis.selectedCache[index] = sku;\r\n\r\n\t\t\t\t// 清空所有sku选中属性\r\n\t\t\t\tlet resObj = this.r.result;\r\n\t\t\t\tObject.keys(resObj).forEach((key1, index) => {\r\n\t\t\t\t\tObject.keys(resObj[key1]).forEach(key2 => {\r\n\t\t\t\t\t\t// 查找选中的属性\r\n\t\t\t\t\t\tlet item = resObj[key1][key2];\r\n\t\t\t\t\t\titem.active = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 删除无效属性的禁止状态 并 选中\r\n\t\t\t\tsku.active = true;\r\n\t\t\t\tsku.disabled = false;\r\n\r\n\t\t\t\tthis.updateStatus(this.getSelectedItem());\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * 恢复原来已选属性\r\n\t\t\t\t * 遍历所有非当前属性行\r\n\t\t\t\t *   1. 与 selectedCache 对比\r\n\t\t\t\t *   2. 如果要恢复的属性存在（非 disable）且 和当前*未高亮行*已选择属性的*可组合*），高亮原来已选择的属性且更新\r\n\t\t\t\t *   3. 否则什么也不做\r\n\t\t\t\t */\r\n\t\t\t\tfor (var i = 0; i < this.keys.length; i++) {\r\n\t\t\t\t\tvar item = this.keys[i];\r\n\t\t\t\t\tif (item == skuArrKey) continue\r\n\r\n\t\t\t\t\t// 没有被禁用的属性 (可以被选择)\r\n\t\t\t\t\tif (this.selectedCache[i] && !this.selectedCache[i].disabled && !this.selectedCache[i].discard) {\r\n\t\t\t\t\t\tthis.selectedCache[i].active = true;\r\n\t\t\t\t\t\tthis.updateStatus(this.getSelectedItem())\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 更新所有属性状态\r\n\t\t\t */\r\n\t\t\tupdateStatus(selected) {\r\n\t\t\t\t// 遍历sku属性名合集\r\n\t\t\t\tfor (var i = 0; i < this.keys.length; i++) {\r\n\t\t\t\t\t// 如果这段看不懂将console.log的注释解开即可\r\n\t\t\t\t\tvar key = this.keys[i];\r\n\t\t\t\t\tvar data = this.r.result[key];\r\n\t\t\t\t\tvar hasActive = !!selected[i];\r\n\t\t\t\t\tvar copy = selected.slice();\r\n\t\t\t\t\t// console.log(key, '属性名合集')\r\n\t\t\t\t\t// console.log(i)\r\n\t\t\t\t\t// console.log(copy, '已选属性');\r\n\t\t\t\t\t// 遍历data所有属性\r\n\t\t\t\t\tObject.keys(data).forEach(dataKey => {\r\n\t\t\t\t\t\tvar item = data[dataKey];\r\n\t\t\t\t\t\tif (selected[i] == item.value) return;\r\n\t\t\t\t\t\tcopy[i] = item.value;\r\n\t\t\t\t\t\t// 加密后的属性名\r\n\t\t\t\t\t\tvar curr = CryptoJS.MD5(this.trimSpliter(copy.join(this.spliter), this.spliter))\r\n\t\t\t\t\t.toString();\r\n\t\t\t\t\t\t// 从sku组合合集中找出这项\r\n\t\t\t\t\t\tvar resCurr = this.res[curr];\r\n\t\t\t\t\t\t// console.log(this.res, 'sku组合合集')\r\n\t\t\t\t\t\t// console.log(curr, '合集加密名称')\r\n\t\t\t\t\t\t// console.log(this.trimSpliter(copy.join(this.spliter), this.spliter))\r\n\t\t\t\t\t\t// 如果存在这种组合\r\n\t\t\t\t\t\tif (resCurr) {\r\n\t\t\t\t\t\t\t// console.log(resCurr)\r\n\t\t\t\t\t\t\titem.disabled = false;\r\n\t\t\t\t\t\t\t// 如果sku无库存不展示 而且 当前sku属性没有被废弃\r\n\t\t\t\t\t\t\tif (this.notStockDisabled) {\r\n\t\t\t\t\t\t\t\t// 该属性是否无库存\r\n\t\t\t\t\t\t\t\tlet itemNotStock = true;\r\n\t\t\t\t\t\t\t\t// 遍历该属性所有的合集\r\n\t\t\t\t\t\t\t\t// resCurr.skus是一个[],里面有合集id 可能有多个合集id\r\n\t\t\t\t\t\t\t\t// 每个合集id都有独一无二的信息 \r\n\t\t\t\t\t\t\t\t// 如果所有相关合集都没库存则说明该属性无库存 则废弃 否则 不废弃\r\n\t\t\t\t\t\t\t\tresCurr.skus.forEach(skuID => {\r\n\t\t\t\t\t\t\t\t\tlet sku = this.r.items.filter(sku => sku.sku === skuID)[0];\r\n\t\t\t\t\t\t\t\t\tif (sku.stock > 0) itemNotStock = false;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\titem.discard = itemNotStock;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 如果无库存不展示\r\n\t\t\t\t\t\t\tif (this.notStockDisabled) {\r\n\t\t\t\t\t\t\t\titem.disabled = !item.discard;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\titem.disabled = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\titem.active = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 获取当前选中的属性\r\n\t\t\t\tvar result = selected.slice();\r\n\t\t\t\t// 如果所有属性都已选中\r\n\t\t\t\tif (result.every(item => item)) {\r\n\t\t\t\t\t// 将属性合成r.items中的sku名称\r\n\t\t\t\t\tlet name = this.trimSpliter(result.join(this.spliter), this.spliter);\r\n\t\t\t\t\t// 查找sku\r\n\t\t\t\t\tlet sku = this.r.items.find(item => item.path == name);\r\n\t\t\t\t\t// 如果找到该sku\r\n\t\t\t\t\tif (sku) {\r\n\t\t\t\t\t\t// 根据sku的sku属性(唯一标识，通常来说会是id)找到源数据中的匹配的那一项并选中;\r\n\t\t\t\t\t\tthis.selectSku = JSON.parse(JSON.stringify(this.data.find(item => item.id == sku.sku)));\r\n\t\t\t\t\t\t// 重置数量\r\n\t\t\t\t\t\tthis.num = this.defaultNum;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selectSku = {};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbindEvent(sku, skuArr, skuArrKey) {\r\n\t\t\t\t// 如果该sku属性被废弃则直接返回\r\n\t\t\t\tif (sku.discard) return;\r\n\r\n\t\t\t\tif (!sku.active) {\r\n\t\t\t\t\t// 清空当前行的所有sku选中属性\r\n\t\t\t\t\tObject.keys(skuArr).forEach(key => {\r\n\t\t\t\t\t\tskuArr[key].active = false;\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tsku.active = true;\r\n\r\n\t\t\t\t\t// 当前选中的keys的index\r\n\t\t\t\t\tlet index = this.keys.findIndex(item => item == skuArrKey);\r\n\r\n\t\t\t\t\tif (sku.disabled) {\r\n\t\t\t\t\t\tthis.handleDisableClick(sku, skuArrKey, index);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.selectedCache[index] = sku;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsku.active = false;\r\n\t\t\t\t\t// 清空所有sku禁用状态\r\n\t\t\t\t\tlet resObj = this.r.result;\r\n\t\t\t\t\tObject.keys(resObj).forEach((key1, index) => {\r\n\t\t\t\t\t\tObject.keys(resObj[key1]).forEach(key2 => {\r\n\t\t\t\t\t\t\t// 查找选中的属性\r\n\t\t\t\t\t\t\tlet item = resObj[key1][key2];\r\n\t\t\t\t\t\t\titem.disabled = false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.updateStatus(this.getSelectedItem());\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选中最便宜价格的sku\r\n\t\t\t */\r\n\t\t\tselectMinPriceSku() {\r\n\t\t\t\tlet minPriceSku = null;\r\n\t\t\t\tthis.data.forEach(sku => {\r\n\t\t\t\t\t// 如果为空则直接赋值\r\n\t\t\t\t\tif (minPriceSku === null) {\r\n\t\t\t\t\t\tminPriceSku = sku\r\n\t\t\t\t\t} else if (minPriceSku.price > sku.price) { // 如果比最小价格低 就赋值\r\n\t\t\t\t\t\tminPriceSku = sku\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfor (var key in minPriceSku.sku_attrs) {\r\n\t\t\t\t\tlet attr_info = this.getObjAppointAttr(minPriceSku.sku_attrs[key]);\r\n\t\t\t\t\t// 找出对应项并选中\r\n\t\t\t\t\tthis.r.result[key][attr_info.name].active = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.updateStatus(this.getSelectedItem());\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选中某项sku\r\n\t\t\t * @param {Number} index 选中的skuIndex\r\n\t\t\t */\r\n\t\t\tselectAppointSku(index) {\r\n\t\t\t\t// 视图更新后在更新选中的skuIndex\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tif (!this.data[index]) return console.error('请输入正确的sku下标');\r\n\t\t\t\t\tlet sku_attrs = this.data[index].sku_attrs;\r\n\t\t\t\t\tfor (var key in sku_attrs) {\r\n\t\t\t\t\t\tlet attr_info = this.getObjAppointAttr(sku_attrs[key]);\r\n\t\t\t\t\t\t// 找出对应项并选中\r\n\t\t\t\t\t\tthis.r.result[key][attr_info.name].active = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.updateStatus(this.getSelectedItem());\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 找出区间数据\r\n\t\t\t */\r\n\t\t\tfindAreaData() {\r\n\t\t\t\tlet minPrice = null;\r\n\t\t\t\tlet maxPrice = 0;\r\n\t\t\t\tlet minStock = null;\r\n\t\t\t\tlet maxStock = 0;\r\n\t\t\t\tthis.data.forEach(sku => {\r\n\t\t\t\t\t// 如果最小价格为空则直接赋值\r\n\t\t\t\t\tif (minPrice === null) {\r\n\t\t\t\t\t\tminPrice = sku.price;\r\n\t\t\t\t\t} else if (minPrice * 1 > sku.price * 1) { // 如果比最小价格低 就赋值\r\n\t\t\t\t\t\tminPrice = sku.price;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 如果大于最大价格则赋值\r\n\t\t\t\t\tif (maxPrice < sku.price) {\r\n\t\t\t\t\t\tmaxPrice = sku.price;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果最小库存为空则直接赋值\r\n\t\t\t\t\tif (minStock === null) {\r\n\t\t\t\t\t\tminStock = sku.stock;\r\n\t\t\t\t\t} else if (minStock * 1 > sku.stock * 1) { // 如果比最小库存少 就赋值\r\n\t\t\t\t\t\tminStock = sku.stock;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 如果大于最大库存则赋值\r\n\t\t\t\t\tif (maxStock * 1 < sku.stock * 1) {\r\n\t\t\t\t\t\tmaxStock = sku.stock;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 赋值区间\r\n\t\t\t\tthis.showAreaPrice = [minPrice, maxPrice];\r\n\t\t\t\tthis.showAreaStock = [minStock, maxStock];\r\n\t\t\t},\r\n\r\n\t\t\t// 初始化\r\n\t\t\tinit(data) {\r\n\t\t\t\tthis.res = {}\r\n\t\t\t\tthis.r = {};\r\n\t\t\t\tthis.keys = [];\r\n\t\t\t\tthis.selectedCache = [];\r\n\r\n\t\t\t\t// skus 长度为空则没必要往下继续进行了\r\n\t\t\t\tif (!data.length) return;\r\n\r\n\t\t\t\t// 拼接主题色\r\n\t\t\t\tthis.joinThemColor(this.themeColor);\r\n\r\n\t\t\t\t// 找出sku的可选属性的标题\r\n\t\t\t\tfor (var attr_key in data[0].sku_attrs) {\r\n\t\t\t\t\t// 如果这个属性未定义存则跳过\r\n\t\t\t\t\tif (!(attr_key in data[0].sku_attrs)) continue;\r\n\t\t\t\t\t// 如果这个属性未赋值 或 不存在 则删除该属性\r\n\t\t\t\t\tif (data[0].sku_attrs[attr_key] === null || data[0].sku_attrs[attr_key] === undefined) delete data[0]\r\n\t\t\t\t\t\t.sku_attrs[attr_key];\r\n\t\t\t\t\t// 否则添加属性\r\n\t\t\t\t\telse this.keys.push(attr_key);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//计算组合数据\r\n\t\t\t\tthis.r = this.combineAttr(data, this.keys);\r\n\r\n\t\t\t\t// 生成所有子集是否可选、库存状态 map\r\n\t\t\t\tthis.buildResult(this.r.items);\r\n\r\n\t\t\t\t// 找到区间数据\r\n\t\t\t\tthis.findAreaData();\r\n\t\t\t\t\r\n\t\t\t\t// 如果无库存不展示 则 更新一下数据 因为有可能某个属性没有库存\r\n\t\t\t\tif(this.notSelectSku) {\r\n\t\t\t\t\tthis.updateStatus(this.getSelectedItem());\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果需要选中某项sku\r\n\t\t\t\tif (this.selectSkuIndex !== null && this.selectSkuIndex !== undefined) {\r\n\t\t\t\t\tthis.selectAppointSku(this.selectSkuIndex);\r\n\t\t\t\t} else if (this.isSelectMinPriceSku) {\r\n\t\t\t\t\t// 如果需要选中默认最便宜的sku\r\n\t\t\t\t\tthis.selectMinPriceSku();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 确认事件\r\n\t\t\tconfirm() {\r\n\t\t\t\t// 如果已有选中的完整sku\r\n\t\t\t\tif (this.selectSku.id) {\r\n\t\t\t\t\t// 如果有库存\r\n\t\t\t\t\tif (this.selectSku.stock * 1 > 0) {\r\n\t\t\t\t\t\t// 按钮确认事件\r\n\t\t\t\t\t\tthis.$emit('confirm', {\r\n\t\t\t\t\t\t\tsku: this.selectSku,\r\n\t\t\t\t\t\t\tskuText: this.getSelectedItem(),\r\n\t\t\t\t\t\t\tnum: this.num * 1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: this.notSelectSku,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 拼接主题色\r\n\t\t\tjoinThemColor(n) {\r\n\t\t\t\tthis.themeRGB = `rgb(${n[0]}, ${n[1]}, ${n[2]})`;\r\n\t\t\t\tthis.themeRGBA = `rgba(${n[0]}, ${n[1]}, ${n[2]}, 0.1)`;\r\n\t\t\t},\r\n\r\n\t\t\t// 关闭sku组件\r\n\t\t\tclose() {\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\tthis.$emit('update:modelValue', false);\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\tthis.$emit('input', false);\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t// fix by mehaotian 处理 h5 滚动穿透的问题\r\n\t\t\t\tdocument.getElementsByTagName('body')[0].style.overflow = 'visible'\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\tthis.$emit('close');\r\n\r\n\t\t\t\tthis.skuPopupStyleShow = false;\r\n\t\t\t\tthis.shopSpecsPopupStyleShow = false;\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.showSkuPopup = false;\r\n\t\t\t\t}, 300)\r\n\t\t\t},\r\n\r\n\t\t\t// 打开sku组件\r\n\t\t\topen() {\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\tthis.$emit('update:modelValue', true);\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\tthis.$emit('input', true);\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t// fix by mehaotian 处理 h5 滚动穿透的问题\r\n\t\t\t\tdocument.getElementsByTagName('body')[0].style.overflow = 'hidden'\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\tthis.$emit('open');\r\n\r\n\t\t\t\tthis.showSkuPopup = true;\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.skuPopupStyleShow = true;\r\n\t\t\t\t\tthis.shopSpecsPopupStyleShow = true;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 重置购买数量\r\n\t\t\tresetNum() {\r\n\t\t\t\tthis.num = this.defaultNum;\r\n\t\t\t},\r\n\r\n\t\t\t// 获取对象中指定属性\r\n\t\t\tgetObjAppointAttr(obj, attr = 'name') {\r\n\t\t\t\t// 用来储存属性中对应的值\r\n\t\t\t\tlet value = \"\";\r\n\t\t\t\t// 如果该sku属性是对象则取其中的name属性\r\n\t\t\t\tif (Object.prototype.toString.call(obj) === '[object Object]') {\r\n\t\t\t\t\tvalue = obj[attr];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = obj;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 使用CryptoJS的MD5对原属性名加密 用来禁绝因特殊符号带来的属性名错误\r\n\t\t\t\tlet name = CryptoJS.MD5(value).toString();\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tname\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 预览图片\r\n\t\t\tpreview(img) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: [img]\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// specs样式\r\n\t\t\tspecsStyle(sku) {\r\n\t\t\t\tlet style = {\r\n\t\t\t\t\tborderRadius: sku.img ? '15rpx' : '10rpx'\r\n\t\t\t\t};\r\n\t\t\t\t// 选中的样式\r\n\t\t\t\tif(sku.active) {\r\n\t\t\t\t\tstyle.color = this.themeRGB;\r\n\t\t\t\t\tstyle.border = `3rpx solid ${this.themeRGB}`;\r\n\t\t\t\t}\r\n\t\t\t\t// 废弃的样式\r\n\t\t\t\tif(sku.discard) {\r\n\t\t\t\t\tstyle = {...style, ...this.notStockDisabledStyle};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn style\r\n\t\t\t}\r\n\t\t},\r\n\t\t// computed 计算属性\r\n\t\tcomputed: {\r\n\t\t\t// 获取已选中的sku属性字符串\r\n\t\t\tgetSelectedSkuAttrStr() {\r\n\t\t\t\tlet attrArr = this.getSelectedItem();\r\n\t\t\t\t// 如果有未选中的数据\r\n\t\t\t\tif (attrArr.findIndex(item => !item) !== -1) {\r\n\t\t\t\t\t// 获取sku属性名\r\n\t\t\t\t\tlet resultArr = Object.keys(this.r.result);\r\n\t\t\t\t\t// 未选中的sku属性名\r\n\t\t\t\t\tlet noAttrNameArr = [];\r\n\t\t\t\t\tattrArr.forEach((item, index) => {\r\n\t\t\t\t\t\tif (!item) {\r\n\t\t\t\t\t\t\tnoAttrNameArr.push(resultArr[index]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\treturn `请选择：${noAttrNameArr.join('、')}`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn `已选择：${attrArr.join('，')}`\r\n\t\t\t\t}\r\n\t\t\t\treturn this.getSelectedItem();\r\n\t\t\t},\r\n\t\t\t// 获取确认按钮显示文字\r\n\t\t\tbtnConfirmShowText() {\r\n\t\t\t\treturn this.selectSku.id && this.selectSku.stock * 1 < 1 ? this.notStockText : this.btnConfirmText\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 监听\r\n\t\twatch: {\r\n\t\t\tdata: {\r\n\t\t\t\thandler(n) {\r\n\t\t\t\t\tthis.init(n);\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t},\r\n\t\t\t// #ifdef VUE3\r\n\t\t\tmodelValue(n) {\r\n\t\t\t\tn ? this.open() : this.close();\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef VUE3\r\n\t\t\tvalue(n) {\r\n\t\t\t\tn ? this.open() : this.close();\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\tnum(n) {\r\n\t\t\t\tthis.$emit('numChange', n);\r\n\t\t\t},\r\n\t\t\tselectSku(n) {\r\n\t\t\t\tthis.$emit('skuChange', n);\r\n\t\t\t},\r\n\t\t\tthemeColor(n) {\r\n\t\t\t\tthis.joinThemColor(n);\r\n\t\t\t},\r\n\t\t\tselectSkuIndex(n) {\r\n\t\t\t\tthis.selectAppointSku(n);\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 挂载时\r\n\t\tmounted() {\r\n\t\t\t// 赋值默认购买商品数量\r\n\t\t\tthis.num = this.defaultNum;\r\n\t\t\tthis.init(this.data);\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t@import url(\"../common.less\");\r\n\r\n\t.sku {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\ttop: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\tz-index: 999;\r\n\t\ttransition: all 0.3s ease;\r\n\r\n\t\t&.show {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t&.hide {\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\r\n\t\t.shopSpecsPopup {\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tborder-radius: 24rpx 24rpx 0 0;\r\n\t\t\tpadding: 45rpx 30rpx 30rpx;\r\n\t\t\tposition: fixed;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\ttransition: all 0.3s ease;\r\n\r\n\t\t\t&.show {\r\n\t\t\t\tbottom: 0%;\r\n\t\t\t}\r\n\r\n\t\t\t&.hide {\r\n\t\t\t\tbottom: -100%;\r\n\t\t\t}\r\n\r\n\t\t\t.close {\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 33rpx;\r\n\t\t\t\tright: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.content {\r\n\t\t\t\tbottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.btnBox {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tmargin-top: 40rpx;\r\n\r\n\t\t\t\t.confirm {\r\n\t\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\theight: 86rpx;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tcolor: #FFFFFF;\r\n\r\n\t\t\t\t\t&.disabled {\r\n\t\t\t\t\t\tbackground-color: #b4b4b4 !important;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.info {\r\n\t\t\t\t.cover {\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\theight: 200rpx;\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\tbackground-position: center;\r\n\t\t\t\t\tbackground-color: #1cffe5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.right {\r\n\t\t\t\t\twidth: calc(100% - 220rpx);\r\n\r\n\t\t\t\t\t&.useImgSku {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\t\t\t.price {\r\n\t\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t\tpadding-right: 120rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.price {\r\n\t\t\t\t\t\tfont-size: 44rpx;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\tmargin-bottom: 25rpx;\r\n\t\t\t\t\t\tline-height: 1;\r\n\r\n\t\t\t\t\t\t.uity {\r\n\t\t\t\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.stock {\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.actSkuStr {\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.number {\r\n\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\tmargin-bottom: 22rpx;\r\n\r\n\t\t\t\t.key {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.specsList {\r\n\t\t\t\tmax-height: 45vh;\r\n\t\t\t\toverflow-y: auto;\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t.item {\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.specsValueList {\r\n\t\t\t\t\t\t.specs {\r\n\t\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t\t\t\tborder: 3rpx solid #e4e4e4;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\r\n\t\t\t\t\t\t\t&:not(.act) {\r\n\t\t\t\t\t\t\t\t.specs_common {\r\n\t\t\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.specs_img_box {\r\n\t\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.discard {\r\n\t\t\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t\t\t\ttext-decoration: line-through;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&.disabled {\r\n\t\t\t\t\t\t\t\tborder: 3rpx solid transparent;\r\n\r\n\t\t\t\t\t\t\t\t.specs_common {\r\n\t\t\t\t\t\t\t\t\tbackground-color: #f3f3f3;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.specs_img_box .specs_img_box_mask {\r\n\t\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\t\t\t\tright: 0;\r\n\t\t\t\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0.2);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&_img_box {\r\n\t\t\t\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t\t\t\t&_preview {\r\n\t\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\t\tbackground: rgba(0, 0, 0, 0.7);\r\n\t\t\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\t\t\t\t\tright: 8rpx;\r\n\t\t\t\t\t\t\t\t\ttop: 8rpx;\r\n\r\n\t\t\t\t\t\t\t\t\t.img {\r\n\t\t\t\t\t\t\t\t\t\twidth: 25rpx;\r\n\t\t\t\t\t\t\t\t\t\theight: 25rpx;\r\n\t\t\t\t\t\t\t\t\t\ttransform: scale(1.2);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t&_cover {\r\n\t\t\t\t\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\t\t\t\t\theight: 200rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t&_text {\r\n\t\t\t\t\t\t\t\t\tbackground: #302e2f;\r\n\t\t\t\t\t\t\t\t\tpadding: 15rpx 20rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t&_common {\r\n\t\t\t\t\t\t\t\tpadding: 14rpx 40rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./geek-sku.vue?vue&type=style&index=0&id=32e9291c&lang=less&scoped=true&\"; export default mod; export * from \"-!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\学习\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./geek-sku.vue?vue&type=style&index=0&id=32e9291c&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1738831200546\n      var cssReload = require(\"D:/学习/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}